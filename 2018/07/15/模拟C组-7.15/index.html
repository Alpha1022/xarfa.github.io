<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="ARFA">
  <!-- Open Graph Data -->
  <meta property="og:title" content="模拟C组 7.15"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="ARFA"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.com"/>
  
    <link rel="alternate" href="/atom.xml" title="ARFA" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>ARFA</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.dark.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">模拟C组 7.15</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/xarfa">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="https://www.luogu.org/space/show?uid=77760">
                  
                  Luogu
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By ARFA</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2018-07-15</span>
            <span class="time">20:46:15</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/JZOI/">JZOI</a>
</span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h1 id="7-15-排名-19-32"><a href="#7-15-排名-19-32" class="headerlink" title="7.15 排名:19/32"></a>7.15 排名:19/32</h1><a id="more"></a>
<h2 id="T1-石子游戏"><a href="#T1-石子游戏" class="headerlink" title="T1 石子游戏"></a>T1 石子游戏</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p><code>Alice 和 Bob 总喜欢聚在一起玩游戏（T_T），今天他（她）们玩的是一款新型的取石子游戏。游戏一开始有N堆石子，Alice 和 Bob 轮流取出石子。在每次操作中，游戏者必须选择其中的一堆石子，并作出下列的其中一种操作：
(1)移去整堆石子
(2)假设石子堆中有X颗石子，取出Y颗石子，其中1&lt;=Y    
游戏结束的条件是：取出最后一颗石子的人胜出。众所周知，Alice和Bob都是绝顶聪明的，假设他们在游戏中都采取最优的策略，问最后谁会胜出游戏呢？
Alice先取。</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line"></span><br><span class="line">    第一行包含一个整数T，表示测试数据的组数。</span><br><span class="line">    接下来T组测试数据，在每组数据中，第一行包含一个整数N，表示有多少堆石子。第二行N个正整数，分别表示每堆有多少颗石子。</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">    每组测试数据输出一行，表示获胜者的名字（Alice 或者 Bob）。</span><br><span class="line"></span><br><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3 5 6</span><br><span class="line">4</span><br><span class="line">2 3 6 9</span><br><span class="line">5</span><br><span class="line">3 2 1 1000000 999999</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">Alice</span><br><span class="line">Bob</span><br><span class="line">Alice</span><br><span class="line"></span><br><span class="line">Data Constraint</span><br><span class="line"></span><br><span class="line">20%的数据，N&lt;=5，每堆石子数量少于10</span><br><span class="line">100%的数据，T&lt;=100，N&lt;=100，每堆石子数量不大于1,000,000</span><br></pre></td></tr></table></figure>
<p>SG函数了解一下:(预处理)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果i是质数,那么SG[i]=离i最近的并且比i小的一个质数</span><br><span class="line">如果i是合数,那么SG[i]=i的最小质因子</span><br></pre></td></tr></table></figure></p>
<p>把每一个num[i] SG一下,然后对其进行Nimm博弈的xor就可以了。</p>
<figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span></span><br><span class="line">	test,i,n,num,ans,tail:longint;</span><br><span class="line">	shydog:<span class="keyword">array</span>[<span class="number">1</span>..<span class="number">1000002</span>] <span class="keyword">of</span> longint;</span><br><span class="line">	judge:<span class="keyword">array</span>[<span class="number">1</span>..<span class="number">1000002</span>] <span class="keyword">of</span> longint;</span><br><span class="line">	number:<span class="keyword">array</span>[<span class="number">1</span>..<span class="number">1000002</span>] <span class="keyword">of</span> longint;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">pretreatment</span>;</span></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">	i,j:longint;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">        tail:=<span class="number">0</span>;</span><br><span class="line">        judge[<span class="number">1</span>]:=<span class="number">1</span>;</span><br><span class="line">        shydog[<span class="number">1</span>]:=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">2</span> <span class="keyword">to</span> <span class="number">1000001</span> <span class="keyword">do</span></span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span> judge[i]=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			inc(tail);</span><br><span class="line">                        shydog[i]:=tail+<span class="number">1</span>;</span><br><span class="line">			number[tail]:=i;</span><br><span class="line">		<span class="keyword">end</span>;</span><br><span class="line">		<span class="keyword">for</span> j:=<span class="number">1</span> <span class="keyword">to</span> tail <span class="keyword">do</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span> i*number[j]&gt;<span class="number">1000001</span> <span class="keyword">then</span></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			judge[i*number[j]]:=number[j];</span><br><span class="line">			<span class="keyword">if</span> i*number[j]=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">end</span>;</span><br><span class="line">	<span class="keyword">end</span>;</span><br><span class="line">        <span class="keyword">for</span> i:=<span class="number">2</span> <span class="keyword">to</span> <span class="number">1000001</span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">if</span> judge[i]&gt;<span class="number">0</span> <span class="keyword">then</span> shydog[i]:=shydog[judge[i]]; </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">		Pretreatment;</span><br><span class="line">		<span class="keyword">read</span>(test);</span><br><span class="line">		<span class="keyword">while</span> test&gt;<span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">read</span>(n);</span><br><span class="line">			<span class="keyword">read</span>(ans);</span><br><span class="line">			ans:=shydog[ans];</span><br><span class="line">			<span class="keyword">for</span> i:=<span class="number">2</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">			<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">read</span>(num);</span><br><span class="line">				num:=shydog[num];</span><br><span class="line">				ans:=ans xor num;</span><br><span class="line">			<span class="keyword">end</span>;</span><br><span class="line">			<span class="keyword">if</span> ans=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">				writeln(<span class="string">'Bob'</span>)</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				writeln(<span class="string">'Alice'</span>);</span><br><span class="line">                        dec(test);</span><br><span class="line">		<span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span>.</span><br></pre></td></tr></table></figure>
<h2 id="T2-找回密码"><a href="#T2-找回密码" class="headerlink" title="T2 找回密码"></a>T2 找回密码</h2><h3 id="Description-1"><a href="#Description-1" class="headerlink" title="Description"></a>Description</h3><p><code>Kevin是一个热爱字符串的小孩。有一天，他把自己的微信登录密码给忘记了，万般无奈之下只好点“找回密码”。
这时候，网页上出现了当初设定的密保问题：在字符串st中，有若干个内容不同的子串，请问其中字典序第k小的子串是什么？
很可惜的是，Kevin现在已经不会写程序了，所以，他找到了睿智的你来帮忙。</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line"></span><br><span class="line">输入数据包括两行：第一行为字符串st，第二行为正整数k，定义如题目描述。</span><br><span class="line">其中字符串st的长度不超过100,000且只由大小写英文字母组成</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">一行，为第k小的字符串，如果字符串st中不足k个不同的子串，则输出字典序最大的一个。</span><br><span class="line"></span><br><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">AAB</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">AA</span><br><span class="line"></span><br><span class="line">Data Constraint</span><br><span class="line"></span><br><span class="line">50%的数据，|st| &lt;=1000</span><br><span class="line">100%的数据，|st|&lt;=100,000，K &lt; 2^63</span><br></pre></td></tr></table></figure>
<p>后缀自动机是正解,正在学习中。</p>
<h2 id="T3"><a href="#T3" class="headerlink" title="T3"></a>T3</h2><h3 id="Description-2"><a href="#Description-2" class="headerlink" title="Description"></a>Description</h3><p><code>古老的汉诺塔问题是这样的:用最少的步数将N个半径互不相等的圆盘从1号柱利用2号柱全部移动到3号柱，在移动的过程中小盘要始终在大盘的上面。
　　现在再加上一个条件：不允许直接把盘从1号柱移动到3号柱，也不允许直接把盘从3号柱移动到1号柱。
　　把盘按半径从小到大用1到N编号。每种状态用N个整数表示，第i个整数表示i号盘所在的柱的编号。则N=2时的移动方案为：
　　(1,1)=&gt;(2,1)=&gt;(3,1)=&gt;(3,2)=&gt;(2,2)=&gt;(1,2)=&gt;(1,3)=&gt;(2,3)=&gt;(3,3)
　　初始状态为第0步，编程求在某步数时的状态。</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line"></span><br><span class="line">　　输入文件的第一行为整数T(1&lt;=T&lt;=50000)，表示输入数据的组数。</span><br><span class="line">　　接下来T行，每行有两个整数N,M(1&lt;=n&lt;=19,0&lt;=M&lt;=移动N个圆盘所需的步数)。</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">　　输出文件有T行。</span><br><span class="line">　　对于每组输入数据，输出N个整数表示移动N个盘在M步时的状态，每两个数之间用一个空格隔开，行首和行末不要有多余的空格。</span><br><span class="line"></span><br><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">4</span><br><span class="line">2 0</span><br><span class="line">2 5</span><br><span class="line">3 0</span><br><span class="line">3 1</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">1 1</span><br><span class="line">1 2</span><br><span class="line">1 1 1</span><br><span class="line">2 1 1</span><br></pre></td></tr></table></figure></p>
<p>可以找规律!!!!对不起,我是正统的递归:</p>
<p>真的想知道怎么做建议转看<a href="https://blog.csdn.net/u011123263/article/details/26392319" target="_blank" rel="noopener">博客</a>。<br><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span></span><br><span class="line">        k,ans:<span class="keyword">array</span>[<span class="number">0</span>..<span class="number">100</span>] <span class="keyword">of</span> int64;</span><br><span class="line">        test,m,n:int64;</span><br><span class="line">        i:longint;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">move</span><span class="params">(x,y,a,b,c:int64)</span>;</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span> x=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">                <span class="keyword">exit</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> y&lt;=k[x-<span class="number">1</span>] <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">                ans[x]:=a;</span><br><span class="line">                move(x-<span class="number">1</span>,y,a,b,c);</span><br><span class="line">                <span class="keyword">exit</span>;</span><br><span class="line">        <span class="keyword">end</span>;</span><br><span class="line">        <span class="keyword">if</span> y&lt;=k[x-<span class="number">1</span>]*<span class="number">2</span>+<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">                ans[x]:=b;</span><br><span class="line">                move(x-<span class="number">1</span>,y-(k[x-<span class="number">1</span>]+<span class="number">1</span>),c,b,a);</span><br><span class="line">                <span class="keyword">exit</span>;</span><br><span class="line">        <span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">        ans[x]:=c;</span><br><span class="line">        move(x-<span class="number">1</span>,y-(k[x-<span class="number">1</span>]*<span class="number">2</span>+<span class="number">2</span>),a,b,c);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">        fillchar(k,sizeof(k),<span class="number">0</span>);</span><br><span class="line">        k[<span class="number">0</span>]:=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> <span class="number">19</span> <span class="keyword">do</span></span><br><span class="line">                k[i]:=k[i-<span class="number">1</span>]*<span class="number">3</span>+<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">read</span>(test);</span><br><span class="line">        <span class="keyword">while</span> test&lt;&gt;<span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">                <span class="keyword">read</span>(n,m);</span><br><span class="line">                fillchar(ans,sizeof(ans),<span class="number">0</span>);</span><br><span class="line">                move(n,m,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">                <span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                        <span class="keyword">write</span>(ans[i],<span class="string">' '</span>);</span><br><span class="line">                writeln;</span><br><span class="line">                dec(test);</span><br><span class="line">        <span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span>.</span><br></pre></td></tr></table></figure></p>
<h2 id="T4-城市统计"><a href="#T4-城市统计" class="headerlink" title="T4 城市统计"></a>T4 城市统计</h2><h3 id="Description-3"><a href="#Description-3" class="headerlink" title="Description"></a>Description</h3><p><code>中山(heihei)市的地图是一个n*n的矩阵，其中标号为1的表示商业区，标号为0的表示居民区。为了考察市内居民区与商业区的距离，并对此作出评估，市长希望你能够编写一个程序完成这一任务。
　　居民区i到商业区的距离指的是到距离它最近的商业区j的距离(|Xi-Xj|+|Yi-Yj|)，而你将统计的是对于城市中的每一个区域k，以它为中心，所有满足max(|Xk-Xm|,|Yk-Ym|)&lt;=r的区域m到商业区距离之和。结果同样以n*n的矩阵形式输出。</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">Sample Input1：</span><br><span class="line">1</span><br><span class="line">4 1</span><br><span class="line">1 0 0 0</span><br><span class="line">1 1 0 0</span><br><span class="line">0 1 1 0</span><br><span class="line">0 1 0 0</span><br><span class="line"></span><br><span class="line">Sample Input2：</span><br><span class="line">2</span><br><span class="line">10 4</span><br><span class="line">1 0 0 0 0 0 0 0 0 1</span><br><span class="line">0 1 0 0 0 0 0 0 1 0</span><br><span class="line">0 0 1 0 0 0 0 1 0 0</span><br><span class="line">0 0 0 1 0 0 1 0 0 0</span><br><span class="line">0 0 0 0 1 1 0 0 0 0</span><br><span class="line">0 0 0 0 1 1 0 0 0 0</span><br><span class="line">0 0 0 1 0 0 1 0 0 0</span><br><span class="line">0 0 1 0 0 0 0 1 0 0</span><br><span class="line">0 1 0 0 0 0 0 0 1 0</span><br><span class="line">1 0 0 0 0 0 0 0 0 1</span><br><span class="line"></span><br><span class="line">10 9</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line">1 1 1 1 1 1 1 1 1 1</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">Sample Output1：</span><br><span class="line">1 4 9 8</span><br><span class="line">2 5 10 9</span><br><span class="line">2 4 7 7</span><br><span class="line">2 3 4 4</span><br><span class="line"></span><br><span class="line">Sample Output2：</span><br><span class="line">40 50 57 63 70 70 63 57 50 40 </span><br><span class="line">50 60 68 76 86 86 76 68 60 50 </span><br><span class="line">57 68 76 85 97 97 85 76 68 57 </span><br><span class="line">63 76 85 94 107 107 94 85 76 63 </span><br><span class="line">70 86 97 107 120 120 107 97 86 70 </span><br><span class="line">70 86 97 107 120 120 107 97 86 70 </span><br><span class="line">63 76 85 94 107 107 94 85 76 63 </span><br><span class="line">57 68 76 85 97 97 85 76 68 57 </span><br><span class="line">50 60 68 76 86 86 76 68 60 50 </span><br><span class="line">40 50 57 63 70 70 63 57 50 40 </span><br><span class="line"></span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 0 0 0</span><br></pre></td></tr></table></figure></p>
<p>考试的时候没有想到题意,这里解释一下:我们对每一个居住区向每一个商业区建立最短距离,然后每一个点把在半径为r的正方形离的所有“距离”加起来。然后我打出来才20分。</p>
<p>这不是水题吗? 对不起,你现在想的70%不是正解。可乐的是,你所想的还有70分。</p>
<p>  首先我们对每一个居住区建立一个值 way 代表它离商业区一带的最短距离,这个用Bfs就可以完成。接着,我们就可以暴力求出每一个点的ans,输出答案。</p>
<p>看来数据应该是卡了 r ,故意使r变得很大,那么我们怎么办?<br>  建立二维前缀和。</p>
<p>  首先我们把第1行,1列全部一维前缀和一遍,如图:</p>
<p>  <img src="https://cdn.luogu.org/upload/pic/23576.png" alt=""></p>
<p>我们用 Ans[1,i]和ans[I,1]来标记一下,前缀和的变量是 way ([i,j])<br>    然后我们建立二维前缀和 ans[i,j]:假如我们在3,3这个点,那么我们就减去上面那1个(注意不是r个),左边那1个,然后加上右上角那一个,记得加上自己的way。</p>
<p> <img src="https://cdn.luogu.org/upload/pic/23574.png" alt=""></p>
<p>建完这张图后,我们就可以知道如何求出答案,如下图:</p>
<p>   <img src="https://cdn.luogu.org/upload/pic/23573.png" alt=""></p>
<p>  想知道(以橙色圆维中心)红色矩阵的信息,我们就用蓝色的圆减去绿色的圆加上紫色的圆的信息,注意运算的变量是 你建造的前缀和 ans。</p>
<p><img src="https://cdn.luogu.org/upload/pic/23571.png" alt=""></p>
<p>蓝色的圆的统领范围是橙色的边,绿色的点的统领范围是黄色的边,紫色的统领范围是灰色的边,相信聪明的你已经知道怎么做了。<br><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Uses</span> math;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">	test:longint;</span><br><span class="line">	dix:<span class="keyword">array</span>[<span class="number">1</span>..<span class="number">4</span>,<span class="number">1</span>..<span class="number">2</span>] <span class="keyword">of</span> longint;</span><br><span class="line">        i,j,n,r,head,tail,x,y,x1,y1,sta,r1,r2,r3,r4:longint;</span><br><span class="line">	queue:<span class="keyword">array</span>[<span class="number">1</span>..<span class="number">32255</span>,<span class="number">1</span>..<span class="number">2</span>] <span class="keyword">of</span> longint;</span><br><span class="line">	ask:<span class="keyword">array</span>[-<span class="number">160</span>..<span class="number">320</span>,-<span class="number">160</span>..<span class="number">320</span>] <span class="keyword">of</span> shortint;</span><br><span class="line">	way:<span class="keyword">array</span>[-<span class="number">160</span>..<span class="number">320</span>,-<span class="number">160</span>..<span class="number">320</span>] <span class="keyword">of</span> longint;</span><br><span class="line">        ans:<span class="keyword">array</span>[-<span class="number">160</span>..<span class="number">320</span>,-<span class="number">160</span>..<span class="number">320</span>] <span class="keyword">of</span> longint;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">work</span>;</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">		fillchar(ask,sizeof(ask),<span class="number">0</span>);</span><br><span class="line">		fillchar(way,sizeof(way),<span class="number">0</span>);</span><br><span class="line">		head:=<span class="number">0</span>;</span><br><span class="line">		tail:=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">read</span>(n,r);</span><br><span class="line">		<span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">			<span class="keyword">for</span> j:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">			<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">read</span>(sta);</span><br><span class="line">				<span class="keyword">if</span> sta=<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">					inc(tail);</span><br><span class="line">					queue[tail,<span class="number">1</span>]:=i;</span><br><span class="line">					queue[tail,<span class="number">2</span>]:=j;</span><br><span class="line">					ask[i,j]:=<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span>;</span><br><span class="line">			<span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">repeat</span></span><br><span class="line">                        inc(head);</span><br><span class="line">			x:=queue[head,<span class="number">1</span>];</span><br><span class="line">			y:=queue[head,<span class="number">2</span>];</span><br><span class="line">			<span class="keyword">for</span> j:=<span class="number">1</span> <span class="keyword">to</span> <span class="number">4</span> <span class="keyword">do</span></span><br><span class="line">			<span class="keyword">begin</span></span><br><span class="line">				x1:=x+dix[j,<span class="number">1</span>];</span><br><span class="line">				y1:=y+dix[j,<span class="number">2</span>];</span><br><span class="line">				<span class="keyword">if</span> (x1&gt;<span class="number">0</span>)<span class="keyword">and</span>(y1&gt;<span class="number">0</span>)<span class="keyword">and</span>(x1&lt;n+<span class="number">1</span>)<span class="keyword">and</span>(y1&lt;n+<span class="number">1</span>)<span class="keyword">and</span>(ask[x1,y1]&lt;&gt;<span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">					ask[x1,y1]:=<span class="number">1</span>;</span><br><span class="line">					way[x1,y1]:=way[x,y]+<span class="number">1</span>;</span><br><span class="line">					inc(tail);</span><br><span class="line">					queue[tail,<span class="number">1</span>]:=x1;</span><br><span class="line">					queue[tail,<span class="number">2</span>]:=y1;</span><br><span class="line">				<span class="keyword">end</span>;</span><br><span class="line">			<span class="keyword">end</span>;</span><br><span class="line">		<span class="keyword">until</span> head&gt;=tail;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                        ans[i,<span class="number">1</span>]:=ans[i-<span class="number">1</span>,<span class="number">1</span>]+way[i,<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                        ans[<span class="number">1</span>,i]:=ans[<span class="number">1</span>,i-<span class="number">1</span>]+way[<span class="number">1</span>,i];</span><br><span class="line">                <span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                        <span class="keyword">for</span> j:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                                ans[i,j]:=ans[i-<span class="number">1</span>,j]+ans[i,j-<span class="number">1</span>]-ans[i-<span class="number">1</span>,j-<span class="number">1</span>]+way[i,j];</span><br><span class="line">                <span class="keyword">for</span> i:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                        <span class="keyword">for</span> j:=<span class="number">1</span> <span class="keyword">to</span> n <span class="keyword">do</span></span><br><span class="line">                        <span class="keyword">begin</span></span><br><span class="line">                                r1:=max(i-r,<span class="number">1</span>);</span><br><span class="line">                                r2:=max(j-r,<span class="number">1</span>);</span><br><span class="line">                                r3:=min(i+r,n);</span><br><span class="line">                                r4:=min(j+r,n);</span><br><span class="line">                                <span class="keyword">write</span>(ans[r3,r4]-ans[r3,r2-<span class="number">1</span>]-ans[r1-<span class="number">1</span>,r4]+ans[r1-<span class="number">1</span>,r2-<span class="number">1</span>],<span class="string">' '</span>);</span><br><span class="line">                        <span class="keyword">end</span>;</span><br><span class="line">                        writeln;</span><br><span class="line">                <span class="keyword">end</span>;</span><br><span class="line">                writeln;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">		dix[<span class="number">1</span>,<span class="number">1</span>]:=<span class="number">1</span>;</span><br><span class="line">		dix[<span class="number">2</span>,<span class="number">2</span>]:=<span class="number">1</span>;</span><br><span class="line">		dix[<span class="number">3</span>,<span class="number">1</span>]:=-<span class="number">1</span>;</span><br><span class="line">		dix[<span class="number">4</span>,<span class="number">2</span>]:=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">read</span>(test);</span><br><span class="line">		<span class="keyword">while</span> test&gt;<span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			work;</span><br><span class="line">			dec(test);</span><br><span class="line">		<span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span>.</span><br></pre></td></tr></table></figure></p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

